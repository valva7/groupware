# 그룹웨어 DB 테이블 구조

## 직원
### member (직원)
- id (PK)
- member_id (직원 사번 또는 아이디)
- member_name (직원 이름)
- rank (직급)
- profile_image_url (프로필 이미지 URL)
- email (이메일)
- phone (연락처)
- address (주소)
- emergency_name (비상 연락자 이름)
- emergency_phone (비상 연락자 연락처)
- password (로그인 비밀번호, 암호화 저장)
- project_active_yn (프로젝트 관리 권한 여부)
- push_token (푸시 알림 토큰)
- push_yn (푸시 알림 수신 여부)
- status (재직 상태)
- hire_dt (입사일)
- expiration_dt (퇴사일)

## 권한
### role (권한)
- id (PK)
- role_name (권한 이름, 예: 관리자, 직원)
- description (권한 설명)

### member_role (직원 권한)
- id (PK)
- role_id (FK: role - id)
- member_id (FK: member - id)

## 조직도
### department (부서 목록)
- id (PK)
- parent_department_id (상위 부서 ID)
- leader_id (FK: member - id, 부서장)
- name (부서명)
- description (부서 설명)
- department_tag (부서 코드/태그)

### department_member (부서 직원 목록)
- id (PK)
- department_id (FK: department - id)
- member_id (FK: member - id)

## 휴가
### vacation_request (휴가 신청)
- id (PK)
- vacation_member_id (FK: member - id, 신청자)
- vacation_type (휴가 종류: 연차, 반차 등)
- start_date (시작일)
- end_date (종료일)
- days (총 일수)

### vacation_member (직원 잔여 휴가 정보)
- id (PK)
- member_id (FK: member - id)
- total_days (총 부여 휴가 일수)
- used_days (사용한 휴가 일수)
- used_hours (사용한 휴가 시간)
- remaining_days (잔여 휴가 일수)
- remaining_hours (잔여 휴가 시간)

## 전자결재
### approval_type (전자결재 종류 목록)
- id (PK)
- parent_id (상위 전자결재 종류 ID)
- name (전자결재 종류명)
- description (설명)
- used_count (사용 횟수)
- active_yn (사용 여부)

### approval_request (전자결재 요청 목록)
- id (PK)
- type_id (FK: approval_type - id)
- requester_id (FK: member - id, 요청자)
- title (제목)
- reject_reason (반려 사유)
- status (상태: 진행 중, 승인, 반려 등)

### approval_type_field (전자결재 필드)
- id (PK)
- type_id (FK: approval_type - id)
- field_name (입력 항목 이름)
- field_type (데이터 타입: TEXT, NUMBER, DATE 등)
- required_yn (필수 여부)

### approval_type_data (전자결재 필드 데이터)
- id (PK)
- request_id (FK: approval_request - id)
- type_field_id (FK: approval_type_field - id)
- value (입력된 값)
- sequence (항목 순서)

### approval_line (결재선)
- id (PK)
- type (승인, 참조 구분)
- request_id (FK: approval_request - id)
- approval_id (FK: member - id, 결재자)
- sequence (결재 순서)
- status (결재 상태)
- approved_dt (결재 일시)

## 게시글
### post_type (게시글 종류)
- id (PK)
- name (게시글 종류명)
- description (설명)
- used_count (사용 횟수)
- active_yn (사용 여부)
- sequence (노출 순서)

### post (게시글 작성 목록)
- id (PK)
- type_id (FK: post_type - id)
- author_id (FK: member - id, 작성자)
- title (제목)
- content (내용)
- view_count (조회수)

### post_comment (게시글 댓글)
- id (PK)
- post_id (FK: post - id)
- commenter_id (FK: member - id, 댓글 작성자)
- content (댓글 내용)

### post_like (게시글 좋아요)
- id (PK)
- post_id (FK: post - id)
- liker_id (FK: member - id, 좋아요 누른 사람)
- first_like_yn (최초 좋아요 여부)
- like_yn (현재 좋아요 여부)

### post_attachment (첨부 파일)
- id (PK)
- post_id (FK: post - id)
- file_name (파일명)
- file_path (저장 경로)
- file_size (파일 크기)

## 투표
### vote (투표 목록)
- id (PK)
- creator_id (FK: member - id, 생성자)
- type (투표 유형: 단일, 다중 등)
- title (투표 제목)
- description (투표 설명)
- target_department (대상 부서)
- status (상태: 진행 중, 종료 등)
- start_date (시작일)
- end_date (종료일)

### vote_option (투표 선택지)
- id (PK)
- vote_id (FK: vote - id)
- option_text (선택지 내용)
- vote_count (선택 횟수)

### vote_participant (투표자 목록)
- id (PK)
- vote_id (FK: vote - id)
- voter_id (FK: member -id)
- option_id (FK: vote_option - id)
- voted_at (투표 일시)

## 프로젝트
### project_type (프로젝트 종류)
- id (PK)
- name (종류명)
- description (설명)
- active_yn (사용 여부)

### project (프로젝트 목록)
- id (PK)
- type_id (FK: project_type - id)
- leader_id (FK: member - id, 프로젝트 리더)
- title (프로젝트 제목)
- description (설명)
- status (진행 상태)
- start_date (시작일)
- end_date (종료일)

### project_member (프로젝트 인력)
- id (PK)
- project_id (FK: project - id)
- member_id (FK: member - id)
- role (역할)
- joined_at (참여일)

### project_attachment (프로젝트 첨부 파일)
- id (PK)
- project_id (FK: project - id)
- file_name (파일명)
- file_path (저장 경로)
- file_size (파일 크기)

## 비품/자산
### asset (자산/비품 목록)
- id (PK)
- category_id (공통코드로 관리)
- sub_category_id (공통코드로 관리)
- name (자산/비품 이름)
- serial_number (시리얼 번호)
- manufacturer (제조사)
- model_name (모델명)
- description (설명)
- status (AVAILABLE, IN_USE, REPAIR, DISPOSED 등 상태)
- purchase_date (구매일)
- purchase_price (구매 금액)
- location (보관 위치)
- manager_id (FK: member - id, 담당자)
- created_at (등록일시)
- updated_at (수정일시)

### asset_allocation (자산/비품 배정 이력)
- id (PK)
- asset_id (FK: asset - id)
- member_id (FK: member - id, 배정 대상자)
- assigned_date (배정일)
- returned_date (반납일, NULL이면 사용 중)
- note (특이사항)

## 메뉴
### menu (메뉴)
- id (PK)
- parent_id (FK: menu - id, 상위 메뉴 ID)
- name (메뉴명)
- path (라우팅 경로)
- icon (아이콘)
- sequence (노출 순서)
- active_yn (사용 여부)

### menu_role (메뉴 권한)
- id (PK)
- menu_id (FK: menu - id)
- role_id (FK: role - id)

## 공통 코드
### common_code (공통 코드)
- id (PK)
- group_code (코드 그룹)
- code (코드 값)
- code_name (코드 이름)
- description (설명)
- active_yn (사용 여부)
- sequence (노출 순서)

## 알림
### notification (알림)
- id (PK)
- recipient_id (FK: member - id, 수신자)
- type (알림 종류)
- title (알림 제목)
- message (알림 내용)
- read_yn (읽음 여부)
- go_url (이동 URL)
- created_at (생성일시)
